$(document).ready(function () {
  // Prompt User to purchase AppleCare+
  // Produc/AppleCare+ SKU array...
  const skuArr = [
    // ["2052508", "https://www.uwbookstore.com/Wisconsin-Badgers/Tech/AppleCare/AppleCare-for-MacBook-Air-3-year"],
    ['19594989902', '19425345021'],
    ['19594989947', '19425345021'],
    ['19594989992', '19425345021'],
    ['19594990037', '19425345021'],
    ['19594963568', '19594958732'],
    ['19594963615', '19594958732'],
    ['19594963662', '19594958732'],
    ['19594990103', '19594958732'],
    ['19594990149', '19594958732'],
    ['19594990195', '19594958732'],
    ['19594990241', '19594958732'],
    ['19594990287', '19594958732'],
    ['19594990333', '19594958732'],
    ['19594990379', '19594958732'],
    ['19594990425', '19594958732'],
    ['19594990496', '19594958739'],
    ['19594990543', '19594958739'],
    ['19594990590', '19594958739'],
    ['19594990637', '19594958739'],
    ['19594990684', '19594958739'],
    ['19594990731', '19594958739'],
    ['19594990778', '19594958739'],
    ['19594990825', '19594958739'],
    ['19594950778', '19595025861'],
    ['19594950780', '19595025861'],
    ['19594950779', '19595025861'],
    ['19594950781', '19595025861'],
    ['19594992659', '19595025861'],
    ['19594992705', '19595025861'],
    ['19594987348', '19595025853'],
    ['19594987483', '19595025853'],
    ['19594987393', '19595025853'],
    ['19594987528', '19595025853'],
    ['19594987438', '19595025853'],
    ['19594987573', '19595025853'],
    ['19594986960', '19595025845'],
    ['19594986780', '19595025845'],
    ['19594987005', '19595025845'],
    ['19594986825', '19595025845'],
    ['19594986870', '19595025845'],
    ['19594987050', '19595025845'],
    ['19594987095', '19595025845'],
    ['19594986915', '19595025845'],
    ['19594994255', '19595025829'],
    ['19594994296', '19595025829'],
    ['19594908029', '19595025829'],
    ['19594908073', '19595025829'],
    ['19594959153', '19595025837'],
    ['19594959241', '19595025837'],
    ['19594959285', '19595025837'],
    ['19594959329', '19595025837'],
    ['19594972896', '19595020701'],
    ['19594972919', '19595020701'],
    ['19594972942', '19595020701'],
    ['19594972965', '19595020701'],
    ['19425338744', '2076403'],
    ['19425338825', '2076403'],
    ['19425338771', '2076403'],
    ['19425338798', '2076403'],
    ['19425338960', '2076403'],
    ['19425339041', '2076403'],
    ['19425338987', '2076403'],
    ['19425339014', '2076403'],
    ['19594918813', '19594974701'],
    ['19594918840', '19594974701'],
    ['19594918867', '19594974701'],
    ['19594918894', '19594974701'],
    ['19594918921', '19594974701'],
    ['19594918948', '19594974701'],
    ['19594918975', '19594974701'],
    ['19594919002', '19594974701'],
    ['19594919029', '19594974701'],
    ['19594919056', '19594974701'],
    ['19594919083', '19594974701'],
    ['19594919110', '19594974701'],
    ['19594925325', '19594974773'],
    ['19594925352', '19594974773'],
    ['19594925379', '19594974773'],
    ['19594925406', '19594974773'],
    ['19594925433', '19594974773'],
    ['19594925460', '19594974773'],
    ['19594925487', '19594974773'],
    ['19594925514', '19594974773'],
    ['19594925541', '19594974773'],
    ['19594925568', '19594974773'],
    ['19594925595', '19594974773'],
    ['19594925622', '19594974773'],
    ['19594922246', '19594974685'],
    ['19594922272', '19594974685'],
    ['19594922298', '19594974685'],
    ['19594922324', '19594974685'],
    ['19594922350', '19594974685'],
    ['19594922376', '19594974685'],
    ['19594946687', '19594974685'],
    ['19594946710', '19594974685'],
    ['19594923863', '19594974693'],
    ['19594923890', '19594974693'],
    ['19594923917', '19594974693'],
    ['19594923944', '19594974693'],
    ['19594923971', '19594974693'],
    ['19594923998', '19594974693'],
    ['19594946779', '19594974693'],
    ['19594946802', '19594974693'],
    ['19594968852', '2073820'],
    ['19594968960', '2073820'],
    ['19594970452', '2073821'],
    ['19425281838', '2073820'],
    ['19594954389', '2073371'],
    ['19594954403', '2073371'],
    ['19594954417', '2073371'],
    ['19594954431', '2073371'],
    ['19594954445', '2073371'],
    ['19425309771', '2073823'],
    ['19425309739', '2073823'],
    ['19425381907', '19594929271'],
    ['19425382018', '19594929271'],
  ];

  for (let i = 0; i < skuArr.length; i += 1) {
    if (
      $('.merch-wrapper p').text().indexOf(skuArr[i][0]) !== -1 &&
      $('.merch-wrapper a.black.hover_pointer').text().indexOf('AppleCare') ===
        -1
    ) {
      if (!sessionStorage.getItem('apple-care')) {
        $(
          '<div class="modal fade" id="apple-care" tabindex="-1" role="dialog" aria-labelledby="apple-careModal"></div>'
        ).appendTo('body');

        $('#apple-care').html(
          [
            '<div class="modal-dialog" role="document">',
            '<div class="modal-content">',
            '<div class="modal-header" id="apple-careModal">',
            '<h3 class="modal-title">AppleCare+</h3>',
            '<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">',
            '</button>',
            '</div>',
            '<div class="modal-body">',
            '<p>Every MacBook, iPad and Mac comes with a one-year limited hardware warranty and 90 days of complimentary tech support. AppleCare+ extends your coverage to two or three years (depending on device) from the purchase date and adds unlimited accidental protection, each claim subject to a service fee plus applicable tax. You will also get 24/7 priority access to Apple experts by chat or phone.</p>',
            '<p>The University Book Store provides in-store service at 711 State St., via Apple Premium Service Provider Graphite.</p>',
            '<p>AppleCare+ is a best-in-class service contract from Apple- not insurance. Terms and conditions apply as detailed in each AppleCare+ listing.</p>',
            '<a href="' +
              skuArr[i][1] +
              '" class="btn btn-primary">Yes, Purchase AppleCare+</a>',
            '</div>',
            '<div class="modal-footer">',
            '<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No Thank You</button>',
            '</div>',
            '</div>',
            '</div>',
          ].join('\n')
        );

        sessionStorage.setItem('apple-care', true);
        $('#apple-care').modal('show');
      }
    }
  }
});
